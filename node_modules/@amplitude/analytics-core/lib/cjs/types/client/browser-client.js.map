{"version":3,"file":"browser-client.js","sourceRoot":"","sources":["../../../../src/types/client/browser-client.ts"],"names":[],"mappings":"","sourcesContent":["import { TransportTypeOrOptions } from '../transport';\nimport { Client } from './core-client';\nimport { AnalyticsIdentity, Plugin } from '../plugin';\nimport { AmplitudeReturn } from '../../utils/return-wrapper';\nimport { BrowserConfig, BrowserOptions } from '../config/browser-config';\n\nexport interface BrowserClient extends Client {\n  /**\n   * Initializes the Amplitude SDK with your apiKey, optional configurations.\n   * This method must be called before any other operations.\n   *\n   * ```typescript\n   * await init(API_KEY, options).promise;\n   * ```\n   */\n  init(apiKey: string, options?: BrowserOptions): AmplitudeReturn<void>;\n\n  init(apiKey: string, userId?: string, options?: BrowserOptions): AmplitudeReturn<void>;\n\n  /**\n   * Sets the network transport type for events.\n   *\n   * ```typescript\n   * // Use Fetch API\n   * setTransport('fetch');\n   *\n   * // Use XMLHttpRequest API\n   * setTransport('xhr');\n   *\n   * // Use navigator.sendBeacon API\n   * setTransport('beacon');\n   *\n   * // Use Fetch API with custom headers\n   * setTransport({ type: 'fetch', headers: { 'X-Custom-Header': 'value' } });\n   * ```\n   */\n  setTransport(transport: TransportTypeOrOptions): void;\n\n  /**\n   * Adds a new plugin.\n   *\n   * ```typescript\n   * const plugin = {\n   *   name: 'my-plugin',\n   *   type: 'enrichment',\n   *   async setup(config: BrowserConfig, amplitude: BrowserClient) {\n   *     return;\n   *   },\n   *   async execute(event: Event) {\n   *     return event;\n   *   },\n   * };\n   * amplitude.add(plugin);\n   * ```\n   */\n  add(plugin: Plugin<BrowserClient, BrowserConfig>): AmplitudeReturn<void>;\n\n  /**\n   * Returns the current identity.\n   *\n   * ```typescript\n   * const identity = getIdentity();\n   * ```\n   */\n  getIdentity(): AnalyticsIdentity;\n\n  /**\n   * Sets the identity (userId, deviceId, and/or userProperties).\n   * This is a unified shortcut for `setUserId()`, `setDeviceId()`, and setting user properties.\n   * When userProperties change, an identify event is automatically sent.\n   *\n   * **Important limitation:** When userProperties are replaced, the local state is fully replaced\n   * but the identify event sent to the server only includes `$set` operations for the new properties.\n   * Properties removed from the local state are **not** `$unset` on the server.\n   *\n   * For example, changing from `{plan: 'premium', theme: 'dark'}` to `{plan: 'basic'}` removes\n   * `theme` locally but leaves it on the server. To remove a property from the server, use\n   * `identify()` with `Identify.unset()` directly.\n   *\n   * ```typescript\n   * // Set user properties (auto-sends identify event with $set)\n   * setIdentity({ userProperties: { plan: 'premium' } });\n   *\n   * // Set userId (equivalent to setUserId('user-123'))\n   * setIdentity({ userId: 'user-123' });\n   *\n   * // Set deviceId (equivalent to setDeviceId('device-456'))\n   * setIdentity({ deviceId: 'device-456' });\n   *\n   * // Set multiple identity fields together\n   * setIdentity({ userId: 'user-123', deviceId: 'device-456', userProperties: { name: 'John' } });\n   *\n   * // To remove a property from the server, use identify() directly:\n   * const identify = new Identify();\n   * identify.unset('theme');\n   * amplitude.identify(identify);\n   * ```\n   */\n  setIdentity(identity: Partial<AnalyticsIdentity>): void;\n\n  /**\n   * Returns the current optOut config value.\n   *\n   * ```typescript\n   * const optOut = getOptOut();\n   * ```\n   */\n  getOptOut(): boolean | undefined;\n\n  /**\n   * @experimental\n   * WARNING: This method is for internal testing only and is not part of the public API.\n   * It may be changed or removed at any time without notice.\n   *\n   * Sets the diagnostics sample rate before amplitude.init()\n   * @param sampleRate - The sample rate to set\n   */\n  _setDiagnosticsSampleRate(sampleRate: number): void;\n}\n"]}